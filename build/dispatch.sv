// Generated by CIRCT firtool-1.62.1
module Dispatcher(
  input         clock,
                reset,
  output        io_consumers_read__ready_0,
                io_consumers_read__ready_1,
                io_consumers_read__ready_2,
                io_consumers_read__ready_3,
  input         io_consumers_read__valid_0,
                io_consumers_read__valid_1,
                io_consumers_read__valid_2,
                io_consumers_read__valid_3,
  input  [31:0] io_consumers_read__address_0,
                io_consumers_read__address_1,
                io_consumers_read__address_2,
                io_consumers_read__address_3,
  output [7:0]  io_consumers_read__data_0,
                io_consumers_read__data_1,
                io_consumers_read__data_2,
                io_consumers_read__data_3,
  output        io_consumers_write__ready_0,
                io_consumers_write__ready_1,
                io_consumers_write__ready_2,
                io_consumers_write__ready_3,
  input         io_consumers_write__valid_0,
                io_consumers_write__valid_1,
                io_consumers_write__valid_2,
                io_consumers_write__valid_3,
  input  [31:0] io_consumers_write__address_0,
                io_consumers_write__address_1,
                io_consumers_write__address_2,
                io_consumers_write__address_3,
  input  [7:0]  io_consumers_write__data_0,
                io_consumers_write__data_1,
                io_consumers_write__data_2,
                io_consumers_write__data_3,
  input         io_channels_read__ready_0,
                io_channels_read__ready_1,
  output        io_channels_read__valid_0,
                io_channels_read__valid_1,
  output [31:0] io_channels_read__address_0,
                io_channels_read__address_1,
  input  [7:0]  io_channels_read__data_0,
                io_channels_read__data_1,
  input         io_channels_write__ready_0,
                io_channels_write__ready_1,
  output        io_channels_write__valid_0,
                io_channels_write__valid_1,
  output [31:0] io_channels_write__address_0,
                io_channels_write__address_1,
  output [7:0]  io_channels_write__data_0,
                io_channels_write__data_1
);

  reg  [2:0]  channelState_0;
  reg  [2:0]  channelState_1;
  reg  [1:0]  currentConsumer_1;
  reg  [31:0] readAddressReg_0;
  reg  [31:0] readAddressReg_1;
  reg  [31:0] writeAddressReg_0;
  reg  [31:0] writeAddressReg_1;
  reg  [7:0]  writeDataReg_0;
  reg  [7:0]  writeDataReg_1;
  reg         requestFound;
  wire        _GEN = channelState_0 == 3'h0;
  wire        _GEN_0 = ~requestFound & io_consumers_read__valid_0;
  wire        _GEN_1 = ~requestFound & io_consumers_write__valid_0;
  wire        _GEN_2 = ~requestFound & io_consumers_read__valid_1;
  wire        _GEN_3 = ~requestFound & io_consumers_write__valid_1;
  wire        _GEN_4 = ~requestFound & io_consumers_read__valid_2;
  wire        _GEN_5 = ~requestFound & io_consumers_write__valid_2;
  wire        _GEN_6 = ~requestFound & io_consumers_read__valid_3;
  wire        _GEN_7 = ~requestFound & io_consumers_write__valid_3;
  wire        _GEN_8 = channelState_0 == 3'h3;
  wire        io_channels_read__valid_0_0 = ~_GEN & _GEN_8;
  wire        _GEN_9 = channelState_0 == 3'h1;
  wire        _GEN_10 = channelState_0 == 3'h4;
  wire        _GEN_11 = _GEN | _GEN_8 | _GEN_9;
  wire        _GEN_12 = _GEN_11 | ~_GEN_10;
  wire        _GEN_13 = channelState_1 == 3'h0;
  wire        _GEN_14 = channelState_1 == 3'h3;
  wire        io_channels_read__valid_1_0 = ~_GEN_13 & _GEN_14;
  wire        _GEN_15 = channelState_1 == 3'h1;
  wire        _GEN_16 = _GEN_13 | _GEN_14;
  wire        _GEN_17 = channelState_1 == 3'h4;
  wire        _GEN_18 = _GEN_13 | _GEN_14 | _GEN_15;
  wire        _GEN_19 = _GEN_18 | ~_GEN_17;
  always @(posedge clock) begin
    if (reset) begin
      channelState_0 <= 3'h0;
      channelState_1 <= 3'h0;
      currentConsumer_1 <= 2'h0;
      readAddressReg_0 <= 32'h0;
      readAddressReg_1 <= 32'h0;
      writeAddressReg_0 <= 32'h0;
      writeAddressReg_1 <= 32'h0;
      writeDataReg_0 <= 8'h0;
      writeDataReg_1 <= 8'h0;
    end
    else begin
      automatic logic _GEN_20;
      automatic logic _GEN_21;
      automatic logic _GEN_22;
      automatic logic _GEN_23;
      _GEN_20 = _GEN_0 | ~_GEN_1;
      _GEN_21 = _GEN_2 | ~_GEN_3;
      _GEN_22 = _GEN_4 | ~_GEN_5;
      _GEN_23 = _GEN_6 | ~_GEN_7;
      if (_GEN) begin
        if (_GEN_6) begin
          channelState_0 <= 3'h3;
          readAddressReg_0 <= io_consumers_read__address_3;
        end
        else begin
          if (_GEN_7)
            channelState_0 <= 3'h4;
          else if (_GEN_4)
            channelState_0 <= 3'h3;
          else if (_GEN_5)
            channelState_0 <= 3'h4;
          else if (_GEN_2)
            channelState_0 <= 3'h3;
          else if (_GEN_3)
            channelState_0 <= 3'h4;
          else if (_GEN_0)
            channelState_0 <= 3'h3;
          else if (_GEN_1)
            channelState_0 <= 3'h4;
          if (_GEN_4)
            readAddressReg_0 <= io_consumers_read__address_2;
          else if (_GEN_2)
            readAddressReg_0 <= io_consumers_read__address_1;
          else if (_GEN_0)
            readAddressReg_0 <= io_consumers_read__address_0;
        end
        if (_GEN_23) begin
          if (_GEN_22) begin
            if (_GEN_21) begin
              if (_GEN_20) begin
              end
              else begin
                writeAddressReg_0 <= io_consumers_write__address_0;
                writeDataReg_0 <= io_consumers_write__data_0;
              end
            end
            else begin
              writeAddressReg_0 <= io_consumers_write__address_1;
              writeDataReg_0 <= io_consumers_write__data_1;
            end
          end
          else begin
            writeAddressReg_0 <= io_consumers_write__address_2;
            writeDataReg_0 <= io_consumers_write__data_2;
          end
        end
        else begin
          writeAddressReg_0 <= io_consumers_write__address_3;
          writeDataReg_0 <= io_consumers_write__data_3;
        end
      end
      else if (_GEN_8) begin
        if (io_channels_read__ready_0)
          channelState_0 <= 3'h1;
      end
      else if (_GEN_9
                 ? io_channels_read__valid_0_0
                 : _GEN_10 & io_channels_write__ready_0)
        channelState_0 <= 3'h0;
      if (_GEN_13) begin
        if (_GEN_6) begin
          channelState_1 <= 3'h3;
          readAddressReg_1 <= io_consumers_read__address_3;
        end
        else begin
          if (_GEN_7)
            channelState_1 <= 3'h4;
          else if (_GEN_4)
            channelState_1 <= 3'h3;
          else if (_GEN_5)
            channelState_1 <= 3'h4;
          else if (_GEN_2)
            channelState_1 <= 3'h3;
          else if (_GEN_3)
            channelState_1 <= 3'h4;
          else if (_GEN_0)
            channelState_1 <= 3'h3;
          else if (_GEN_1)
            channelState_1 <= 3'h4;
          if (_GEN_4)
            readAddressReg_1 <= io_consumers_read__address_2;
          else if (_GEN_2)
            readAddressReg_1 <= io_consumers_read__address_1;
          else if (_GEN_0)
            readAddressReg_1 <= io_consumers_read__address_0;
        end
        if (_GEN_6 | _GEN_7)
          currentConsumer_1 <= 2'h3;
        else if (_GEN_4 | _GEN_5)
          currentConsumer_1 <= 2'h2;
        else if (_GEN_2 | _GEN_3)
          currentConsumer_1 <= 2'h1;
        else if (_GEN_0 | _GEN_1)
          currentConsumer_1 <= 2'h0;
        if (_GEN_23) begin
          if (_GEN_22) begin
            if (_GEN_21) begin
              if (_GEN_20) begin
              end
              else begin
                writeAddressReg_1 <= io_consumers_write__address_0;
                writeDataReg_1 <= io_consumers_write__data_0;
              end
            end
            else begin
              writeAddressReg_1 <= io_consumers_write__address_1;
              writeDataReg_1 <= io_consumers_write__data_1;
            end
          end
          else begin
            writeAddressReg_1 <= io_consumers_write__address_2;
            writeDataReg_1 <= io_consumers_write__data_2;
          end
        end
        else begin
          writeAddressReg_1 <= io_consumers_write__address_3;
          writeDataReg_1 <= io_consumers_write__data_3;
        end
      end
      else if (_GEN_14) begin
        if (io_channels_read__ready_1)
          channelState_1 <= 3'h1;
      end
      else if (_GEN_15
                 ? io_channels_read__valid_1_0
                 : _GEN_17 & io_channels_write__ready_1)
        channelState_1 <= 3'h0;
    end
    if (_GEN_13 | _GEN)
      requestFound <=
        _GEN_6 | _GEN_7 | _GEN_4 | _GEN_5 | _GEN_2 | _GEN_3 | _GEN_0 | _GEN_1;
  end // always @(posedge)
  assign io_consumers_read__ready_0 = _GEN_13 & _GEN_0 | _GEN & _GEN_0;
  assign io_consumers_read__ready_1 = _GEN_13 & _GEN_2 | _GEN & _GEN_2;
  assign io_consumers_read__ready_2 = _GEN_13 & _GEN_4 | _GEN & _GEN_4;
  assign io_consumers_read__ready_3 = _GEN_13 & _GEN_6 | _GEN & _GEN_6;
  assign io_consumers_read__data_0 =
    _GEN_16 | ~(_GEN_15 & io_channels_read__valid_1_0 & currentConsumer_1 == 2'h0)
      ? io_channels_read__data_0
      : io_channels_read__data_1;
  assign io_consumers_read__data_1 =
    _GEN_16 | ~(_GEN_15 & io_channels_read__valid_1_0 & currentConsumer_1 == 2'h1)
      ? io_channels_read__data_0
      : io_channels_read__data_1;
  assign io_consumers_read__data_2 =
    _GEN_16 | ~(_GEN_15 & io_channels_read__valid_1_0 & currentConsumer_1 == 2'h2)
      ? io_channels_read__data_0
      : io_channels_read__data_1;
  assign io_consumers_read__data_3 =
    _GEN_16 | ~(_GEN_15 & io_channels_read__valid_1_0 & (&currentConsumer_1))
      ? io_channels_read__data_0
      : io_channels_read__data_1;
  assign io_consumers_write__ready_0 =
    _GEN_13 & ~_GEN_0 & _GEN_1 | _GEN & ~_GEN_0 & _GEN_1;
  assign io_consumers_write__ready_1 =
    _GEN_13 & ~_GEN_2 & _GEN_3 | _GEN & ~_GEN_2 & _GEN_3;
  assign io_consumers_write__ready_2 =
    _GEN_13 & ~_GEN_4 & _GEN_5 | _GEN & ~_GEN_4 & _GEN_5;
  assign io_consumers_write__ready_3 =
    _GEN_13 & ~_GEN_6 & _GEN_7 | _GEN & ~_GEN_6 & _GEN_7;
  assign io_channels_read__valid_0 = io_channels_read__valid_0_0;
  assign io_channels_read__valid_1 = io_channels_read__valid_1_0;
  assign io_channels_read__address_0 = readAddressReg_0;
  assign io_channels_read__address_1 = readAddressReg_1;
  assign io_channels_write__valid_0 = ~_GEN_11 & _GEN_10;
  assign io_channels_write__valid_1 = ~_GEN_18 & _GEN_17;
  assign io_channels_write__address_0 = _GEN_12 ? 32'h0 : writeAddressReg_0;
  assign io_channels_write__address_1 = _GEN_19 ? 32'h0 : writeAddressReg_1;
  assign io_channels_write__data_0 = _GEN_12 ? 8'h0 : writeDataReg_0;
  assign io_channels_write__data_1 = _GEN_19 ? 8'h0 : writeDataReg_1;
endmodule


